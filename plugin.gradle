buildscript {
	repositories {
		mavenLocal()
	}
	dependencies {
		classpath 'com.eriwen:gradle-js-plugin:0.1-SNAPSHOT'
	}
}

apply plugin: 'js'

// Combine JS files
combineJs {
    input = fileTree(dir: "${projectDir}/js", include: "**/*.js")
    output = file("${buildDir}/all.js")
}

// Minify with Google Closure Compiler
minifyJs {
    input = file("${buildDir}/all.js")
    output = file("${buildDir}/all-min.js")
    warningLevel = 'QUIET'
}

// GZip it!
gzipJs {
    input = file("${buildDir}/all-min.js")
    output = input
}